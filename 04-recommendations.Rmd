# Moving forward: short-term accommodation regulation pathways in Prince Edward County

```{=html}
<style type="text/css">
  body{
  font-family: Futura, Helvetica, Arial;
}
</style>
```
<br>

```{r setup, include = FALSE, echo = FALSE}

library(here)
source(here("R", "01_startup.R"))

knitr::opts_chunk$set(echo = FALSE)
knitr::opts_chunk$set(include = FALSE)
knitr::opts_chunk$set(message = FALSE)
knitr::opts_chunk$set(warning = FALSE)

# Function for checking file modifications
mtime <- function(files) lapply(Sys.glob(files), function(x) file.info(x)$mtime)

# Set this to TRUE to output PDF figures
build_figures <- TRUE

qload(here("output", "/geometry.qsm"))
qload(here("output", "/str_processed.qsm"))
# qload(here("output", "/geometry.qsm"))
# street <- streets
full_time_listings <- qread("output/full_time_listings.qs")
STA <- qread("output/STA.qs")
rent_sept <- qread("output/rent_sept.qs")

options(tinytex.verbose = TRUE)

```
```{r new_objects}

```
```{r exec_summ}


```

**We evaluate scenarios for the reinstatement of Prince Edward County's short-term accommodation registration, in light of the housing situation and registration analysis, ranging from restrict the number of STA licenses emitted to allowing an unlimited amount of STA licenses for residents operating out of their primary residence. Two geographic scopes are suggested: one that would include only the towns, and one that would encompass all of Prince Edward County. The restrict scenarios would permit the issuance of between 200 or 800 STA licenses, depending on desired market size. The redistribute scenarios could benefit up to 1,700 home sharers operating for a few weeks during summer months. Financial incentives to entice STA operators to keep their listings onto the long-term rental market would not be a viable option for Prince Edward County as it would require up to \$2,520 in rent supplement, depending on location.**

## What are the key issues?

On the basis of the previous analysis, this chapter provides regulatory pathways for the reinstatement of a STA registration system in Prince Edward County, in light of the County's need for a healthy housing market for residents. Before we discuss our recommendations for regulatory reform of STAs in Prince Edward County, though, it is important to be clear about the key housing problems facing the County, and the extent to which regulating STAs can be part of the solution.

### Covid-19 is the most important driver of housing issues

Prince Edward County had been on a worsening housing affordability trajectory well since before the Covid-19 pandemic began, but the recent skyrocketing purchase prices and residential rents are a direct consequence of the pandemic. The preceding chapters suggest that the most important single factor in the pandemic-era deterioration of housing affordability is the purchase of second homes. This fact introduces a considerable amount of uncertainty into forward-looking regulatory reforms. The pandemic will not last forever; when it ends, will housing price growth slow down? Will it in fact reverse?

The additional complexity with regard to STAs is that, as we will discuss momentarily, the evidence is clear that second-home demand has come at the expense of STA supply. If demand for second homes declines after the pandemic, that might signal a decline in demand for STAs as well, or it might shift the financial conditions of investment properties to make STAs a more attractive investment, driving a new surge in STA activity going forward. There is no easy answer here; the point is simply to underscore the high level of uncertainty in discussing Prince Edward County's post-pandemic housing market.

### STAs and second homes are a single market

In major urban markets, research has established a high degree of substitutability between STAs and tenant-occupied apartments (Barron et al. 2020). Landlords face an easier decision transitioning between renting long-term to tenants and renting short-term to tourists than owner-occupiers do, since the latter would need to find a new home before they could convert their existing home into an STA. The consequence of this fact is that marginal changes in STA supply in urban areas tend to add or subtract from existing long-term rental housing. If the economic advantages of STAs increase, we would expect to see existing long-term rentals converted to STAs. And if regulations restrict STAs, we would expect to see former STAs converted to long-term rentals.

An implication of our analysis in this report is that, in Prince Edward County, the comparable substitutability is between STAs and second homes. The spike in demand for second homes since 2020 has reduced the supply of STAs relative to the pre-pandemic trend. And---importantly for future regulatory prospects---under current market conditions, the most likely outcome of restricting STA operations will be to increase second-home sales, as properties are converted from STA to second home.

### More (multifamily) housing is needed

The basic fact of the County's curent housing dilemma is that the pandemic has caused a surge in non-local housing demand which local supply can only meet through dramatic price increases. Even if local County residents vastly outnumber non-local second home purchasers, the latter's demand will drive prices at the margins far beyond the ability of local County incomes to afford. This will be true across nearly the entirety of the residential spectrum: seasonal service workers will be priced out of rental apartments, but even well-paid professionals such as doctors will be priced out of the ownership market. As long as high non-local demand remains in place, there will be no easy answers to housing affordability questions.

While in general the simplest answer to spiking demand for a commodity (in this case housing) is to add more supply, this is a long-term solution to a problem which has an important short-term component. However, to the extent that additional housing supply is permitted in the County, one promising avenue is to direct that supply to housing typologies which are better suited for local demand than for non-local demand. At the top of this list would be multifamily housing, and particularly multifamily purpose-built rental housing in Picton and Wellington. Rental apartments in these areas would help meet the need for housing for service workers while being less likely to be diverted into the second-home market.


## Regulatory best practices

Below we discuss specific regulatory scenarios that make different trade-offs in the STA market. However, there are a number of regulatory best practices which are likely to be worth implementing regardless of which regulatory scenario is followed.

### Prioritize owner-occupied STAs

First, regardless of how strict or permissive an STA regulatory system is, it should differentiate between STAs operated out of primary residences ("home sharing") and STAs operated out of secondary residences (commercial operations), and prioritize the former. Numerous studies that have showed that the trade-off between STAs and housing affordability is largest with dedicated STAs (Wachsmuth et al 2021; Garcia-LÃ³pez et al. 2019, Wachsmuth & Weisler 2018; Horn & Merante 2017). In city and town contexts, other detrimental effects of dedicated STAs include noise, littering and overcrowding (Celata and Romano 2020; Nieuwland and van Melik 2020). So, to the extent that the County contemplates restricting STA activities, restrictions should be targeted at commercial STAs and thereby allow STA activity in the County to be redirected to owner-occupied, homesharing STAs.

### Make display of license numbers mandatory

Effective STA registration systems require mandatory licensing of all listings. Any loopholes in licensing create grey areas for enforcement which, in practice, are difficult and time-intensive to solve. If a property is not licensed, does that mean that it is exempt from licensing, or that it is in violation? If enforcement officers have to answer that question every time a potential enforcement action is being contemplated, scarce enforcement resources will be stretched thin. Prince Edward County's STA regulations already require mandatory licensing, but they are missing an additional feature which allows the benefits of mandatory licensing to be most easily realized, which is mandatory display of license numbers in all online advertisements for STAs.

There are two reasons why this is a crucial feature of a registration system. First, it allows municipalities to connect the anonymous, online identities of STA hosts with the real-life identifies of property owners and property managers. If registration is mandatory but license numbers are not universally displayed, then the municipality faces the same incomplete information problem as when licensing is not fully mandatory.

Second, mandatory license display allows the regulation of STAs to shift away from the land use to the advertisement of a rental, which dramatically simplifies enforcement options. If, for example, STA licenses are business licenses which carry the condition of displaying the license number, then failure to display a license number is a violation which does not require an in-person inspection to substantiate. There will of course be other enforcement issues that will require visits from enforcement officers, but ensuring the basic integrity of the registration system will become much easier.

### Reduce grandfathering of existing licenses where possible

Subsection 34(9) of the Ontario Planning Act establishes a right to legal nonconforming use---or "grandfathering"---when the zoning bylaw is amended to prohibit a previous valid land use. To the extent that STAs are regulated through the zoning bylaw, grandfathering sets important limitations on the effectiveness of future policy changes. In particular, any change to the STA regulatory landscape which makes it more difficult to operate STAs will enormously benefit current STA operators, ultimately reducing the efficacy of the rules. Since the County's current STA regulations are enacted through the zoning bylaw, all existing licensed STAs will in theory be able to operate indefinitely, including after property sales, as legal nonconforming uses.

The County should take reasonable steps to moderate the impact of grandfathering on its ability to set appropriate STA policy going forward. One promising avenue is to shift STA regulation out of land use and into business licensing. If a business license is required to advertise or operate an STA, this could provide the County with more flexibility about which conditions it chooses to impose on the granting and renewal of these licenses in a manner which sidesteps grandfathered land uses. In particular, if a license is required to _advertise_ an STA online, this is not a land-use question.


## Regulatory scenario #1: "Redistribute"

Based on our findings and established priorities, we modeled four potential scenarios based on two sets of conditions. Prince Edward could either Redistribute or Restrict, and do so either in the townships only, or in the towns and townships (in the entire county).

The "Redistribute" route would promote home-sharing in Prince Edward County by removing dedicated STAs and redistribute STA activity more broadly in the hands of more county households. The aim is to grow the size of the STA market in terms of operating accommodations, but to minimize the negative housing impacts associated with full time operations. The county would grant unlimited STA licenses, both only for a host's principal residence. This way, total STA revenues would be redistributed among Prince Edward County families, with local firms providing intermediary services such as property management.

### 1- Redistribute, towns + townships

```{r redistribute_town_townships, include = FALSE}

pool_tt <- 
  daily %>% 
  filter(date >= summer_start_2021, status == "R") %>% 
  filter(property_ID %in% (full_time_listings %>% 
                             filter(year_season == "Summer 2021") %>% 
                             pull(property_ID)))

total_nights_tt <- 
pool_tt %>% 
  nrow() %>% 
  round(digit = -3)

revenue_summer_2021_tt <- 
  pool_tt %>% 
  summarize(sum(price)) %>% 
  pull() %>% 
  scales::dollar(0.1, 1 / 1000000)

new_home_sharers_tt <- 
(total_nights_tt/28) %>% 
  round(digit = -2) 

earnings_per_cap_tt <- 
  {(pool_tt %>% summarize(sum(price)) %>% pull())/new_home_sharers_tt} %>% 
  round(digit = -2) %>% 
  prettyNum(",") %>% 
  paste0("$", .)

grandfathered_tt <- 
  STA %>% 
  filter(status == "Active", entire_apt) %>% 
  nrow()

avg_nb_nights_freh_tt <- 
pool_tt %>% 
  group_by(property_ID) %>% 
  summarize(nb_nights = n()) %>% 
  summarize(mean(nb_nights)) %>% pull()

total_nights_after_gf_tt <- {total_nights_tt-(grandfathered_tt*avg_nb_nights_freh_tt)} %>% 
  round(digit = -3)

revenue_summer_2021_after_gf_tt <- 
  {(pool_tt %>% 
  summarize(sum(price))) / total_nights_tt * total_nights_after_gf_tt} %>% 
  pull() %>% 
  scales::dollar(0.1, 1 / 1000000)

new_home_sharers_after_gf_tt <- 
(total_nights_after_gf_tt/28) %>% 
  round(digit = -2)

earnings_per_cap_after_gf_tt <- 
  ({(pool_tt %>% 
  summarize(sum(price))) / total_nights_tt * total_nights_after_gf_tt} /new_home_sharers_after_gf_tt) %>% 
  round(digit = -2) %>% 
  prettyNum(",") %>% 
  paste0("$", .)
  
```

With the all-encompassing redistribution scenario, the `r prettyNum(total_nights_tt, ",")` reserved nights (earning `r revenue_summer_2021_tt` million) in the summer of 2021 which occurred in commercially-operated STRs could support `r new_home_sharers_tt` home sharers operating between three to five weeks in the summer, earning `r earnings_per_cap_tt` as yearly additional income. With the grandfathering of the current `r grandfathered_tt` active secondary-home licenses, there would be `r prettyNum(total_nights_after_gf_tt, ",")` nights reserved, totaling `r revenue_summer_2021_after_gf_tt` million in revenue, distributed among `r new_home_sharers_after_gf_tt` home sharers that would earn `r earnings_per_cap_after_gf_tt` each on average. This supplementary income stream could at the same time help households with housing-relating costs, contributing to address affordability concerns in Prince Edward County.

```{r make_fig_4_1}
# remotes::install_github("hrbrmstr/waffle", force = TRUE)

library(waffle)
library(hrbrthemes)

library(patchwork)

full_time_tt <- 
  full_time_listings %>% 
  filter(year_season == "Summer 2021") %>% 
  nrow()

home_sharing_tt <- 
  daily %>% 
  filter(date >= summer_start_2021, status == "R") %>% 
  filter(!property_ID %in% (full_time_listings %>% 
                             filter(year_season == "Summer 2021") %>% 
                             pull(property_ID))) %>% 
  distinct(property_ID) %>% 
  nrow()

waffle_df <- 
tibble(graph = "first", value = full_time_tt, group = "Moved from FT to home sharing") %>% 
  add_row(graph = "second", value = home_sharing_tt, group = "Existing home sharing") %>% 
  add_row(graph = "second", value = new_home_sharers_tt, group = "Moved from FT to home sharing") %>%
  add_row(graph = "third", value = full_time_tt-grandfathered_tt, group = "Moved from FT to home sharing") %>% 
  add_row(graph = "third", value = grandfathered_tt, group = "Remaining FT properties") %>% 
  add_row(graph = "fourth", value = home_sharing_tt, group = "Existing home sharing") %>% 
  add_row(graph = "fourth", value = new_home_sharers_after_gf_tt, group = "Moved from FT to home sharing") %>% 
  add_row(graph = "antes_first", value = full_time_tt, group = "Remaining FT properties") %>% 
  add_row(graph = "antes_second", value = home_sharing_tt, group = "Existing home sharing") %>% 
  mutate(value = value/10) %>% 
  mutate(group = factor(group, levels = c("Remaining FT properties", "Moved from FT to home sharing", "Existing home sharing"))) %>%
  arrange(group)

cols <- c("Remaining FT properties" = col_palette[1],
          "Moved from FT to home sharing" = col_palette[2], 
          "Existing home sharing" = col_palette[3])

themes_waffle <- function(df, title) {
  ggplot(df, aes(fill=group, values = value))+
  geom_waffle(color = "white", size=1.125, n_rows = 8) +
    scale_x_discrete(expand=c(0,0)) +
    scale_y_discrete(expand=c(0,0)) +
    scale_fill_manual(values = cols)+
    coord_equal() +
    theme_ipsum_rc(grid="") +
    theme_enhance_waffle()+
    theme(legend.position = "none")+
    ggtitle(title)
}

p01 <- 
  waffle_df %>% 
  filter(graph == "antes_first") %>% 
  themes_waffle(., "No actions")

p02 <- 
  waffle_df %>% 
  filter(graph == "antes_second") %>% 
  themes_waffle(., NULL)

p1 <- 
waffle_df %>% 
  filter(graph == "first") %>% 
  themes_waffle(., "Redistribute entirely")

p2 <- 
waffle_df %>% 
  filter(graph == "second") %>% 
  themes_waffle(., NULL)

p3 <- 
waffle_df %>% 
  filter(graph == "third") %>% 
  themes_waffle(., "With grandfathering")

p4 <- 
waffle_df %>% 
  filter(graph == "fourth") %>% 
  themes_waffle(., NULL)

waffle_legend <- 
  cowplot::get_legend(themes_waffle(waffle_df, NA)+theme(legend.position = "bottom",
                                                         legend.title = element_blank()))

figure_4_1_fun <- function() {
  ((p01 | p02) /
(p1 | p2) /
(p3 | p4 ) /
    waffle_legend)
}

if (build_figures) {
  ggsave(here("output", "figures", "figure_4_1.pdf"), 
         plot = figure_4_1_fun("Futura", "Futura Condensed"), 
         width = 5, height = 8, units = "in", useDingbats = FALSE)
  
  extrafont::embed_fonts(here("output", "figures", "figure_4_1.pdf"))
}

```

```{r fig-4-1, include = TRUE, fig.cap = '(ref:fig-4-1)', fig.align = "center"}

figure_4_1_fun()

```

(ref:fig-4-1) *Expected impact of redistribution regulations (in all the County) on the STA market*

### 2 - Redistribute, towns only

```{r redistribute_town, include = F}
pool_t <- 
daily %>% 
    filter(ward %in% (EW %>% filter(type != "Township") %>% pull(ward))) %>% 
  filter(date >= summer_start_2021, status == "R") %>% 
  filter(property_ID %in% (full_time_listings %>% 
                             filter(year_season == "Summer 2021") %>% 
                             pull(property_ID)))

total_nights_t <- 
pool_t %>% 
  nrow() %>% 
  round(digit = -3)

revenue_summer_2021_t <- 
  pool_t %>% 
  summarize(sum(price)) %>% 
  pull() %>% 
  scales::dollar(0.1, 1 / 1000000)

new_home_sharers_t <- 
(total_nights_t/28) %>% 
  round(digit = -2) 

earnings_per_cap_t <- 
  {(pool_t %>% summarize(sum(price)) %>% pull())/new_home_sharers_t} %>% 
  round(digit = -2) %>% 
  prettyNum(",") %>% 
  paste0("$", .)

grandfathered_t <- 
  STA %>% 
    st_intersection((EW %>% filter(type != "Township"))) %>% 
  filter(status == "Active", entire_apt) %>% 
  nrow()

avg_nb_nights_freh_t <- 
pool_t %>% 
  group_by(property_ID) %>% 
  summarize(nb_nights = n()) %>% 
  summarize(mean(nb_nights)) %>% pull()


total_nights_after_gf_t <- {total_nights_t-(grandfathered_t*avg_nb_nights_freh_t)} %>% 
  round(digit = -3)

revenue_summer_2021_after_gf_t <- 
  {(pool_t %>% 
  summarize(sum(price))) / total_nights_t * total_nights_after_gf_t} %>% 
  pull() %>% 
  scales::dollar(0.1, 1 / 1000000)

new_home_sharers_after_gf_t <- 
(total_nights_after_gf_t/28) %>% 
  round(digit = -2)

earnings_per_cap_after_gf_t <- 
  ({(pool_t %>% 
  summarize(sum(price))) / total_nights_t * total_nights_after_gf_t} /new_home_sharers_after_gf_t) %>% 
  round(digit = -2) %>% 
  prettyNum(",") %>% 
  paste0("$", .)
  
```

If the redistribution model were to occur only in towns, the `r prettyNum(total_nights_t, ",")` reserved nights (`r revenue_summer_2021_t` million) directed to commercial STAs during the summer of 2021 could support `r new_home_sharers_t` home sharers active for three to five weeks in the summer, for an average revenue of `r earnings_per_cap_t` per household. With the grandfathering of `r grandfathered_t` valid second-home licenses in towns, the number of reserved nights being redistributed to households would be `r prettyNum(total_nights_after_gf_t, ",")` (`r revenue_summer_2021_after_gf_t` million in revenue) to support `r new_home_sharers_after_gf_t` home sharers, each earning `r earnings_per_cap_after_gf_t`. It is important to note that, in both situations where STA regulations were applied in towns only, the likely effect will be to displace most STA to the townships since the barriers to operate would be lower than in towns.

```{r make_fig_4_2}

full_time_t <- 
  property %>% 
  filter(property_ID %in% filter(full_time_listings, year_season == "Summer 2021")$property_ID) %>% 
  filter(ward %in% (EW %>% filter(type != "Township"))$ward) %>% 
  nrow()

home_sharing_t <- 
  daily %>% 
  filter(ward %in% (EW %>% filter(type != "Township") %>% pull(ward))) %>% 
  filter(date >= summer_start_2021, status == "R") %>% 
  filter(!property_ID %in% (full_time_listings %>% 
                              filter(year_season == "Summer 2021") %>% 
                              pull(property_ID))) %>% 
  distinct(property_ID) %>% 
  nrow()

waffle_df <- 
  tibble(graph = "first", value = full_time_tt-full_time_t, group = "Remaining FT properties") %>% 
  add_row(graph = "first", value = full_time_t, group = "Moved from FT to home sharing") %>% 
  add_row(graph = "second", value = home_sharing_tt, group = "Existing home sharing") %>% 
  add_row(graph = "second", value = new_home_sharers_t, group = "Moved from FT to home sharing") %>%
  add_row(graph = "third", value = full_time_t-grandfathered_t, group = "Moved from FT to home sharing") %>% 
  add_row(graph = "third", value = full_time_tt-full_time_t+grandfathered_t, group = "Remaining FT properties") %>% 
  add_row(graph = "fourth", value = home_sharing_tt, group = "Existing home sharing") %>% 
  add_row(graph = "fourth", value = new_home_sharers_after_gf_t, group = "Moved from FT to home sharing") %>% 
  add_row(graph = "antes_first", value = full_time_tt, group = "Remaining FT properties") %>% 
  add_row(graph = "antes_second", value = home_sharing_tt, group = "Existing home sharing") %>% 
  mutate(value = value/10) %>% 
  mutate(group = factor(group, levels = c("Remaining FT properties", "Moved from FT to home sharing",
                                          "Existing home sharing"))) %>%
  arrange(group)

cols <- c("Remaining FT properties" = col_palette[1],
          "Moved from FT to home sharing" = col_palette[2], 
          "Existing home sharing" = col_palette[3])

themes_waffle <- function(df, title) {
  ggplot(df, aes(fill=group, values = value))+
    geom_waffle(color = "white", size=1.125, n_rows = 8) +
    scale_x_discrete(expand=c(0,0)) +
    scale_y_discrete(expand=c(0,0)) +
    scale_fill_manual(values = cols)+
    coord_equal() +
    theme_ipsum_rc(grid="") +
    theme_enhance_waffle()+
    theme(legend.position = "none")+
    ggtitle(title)
}

p01 <- 
  waffle_df %>% 
  filter(graph == "antes_first") %>% 
  themes_waffle(., "No actions")

p02 <- 
  waffle_df %>% 
  filter(graph == "antes_second") %>% 
  themes_waffle(., NULL)

p1 <- 
  waffle_df %>% 
  filter(graph == "first") %>% 
  themes_waffle(., "Redistribute only in towns")

p2 <- 
  waffle_df %>% 
  filter(graph == "second") %>% 
  themes_waffle(., NULL)

p3 <- 
  waffle_df %>% 
  filter(graph == "third") %>% 
  themes_waffle(., "Grandfathering in towns")

p4 <- 
  waffle_df %>% 
  filter(graph == "fourth") %>% 
  themes_waffle(., NULL)

waffle_legend <- 
  cowplot::get_legend(themes_waffle(waffle_df, NA)+theme(legend.position = "bottom",
                                                         legend.title = element_blank()))

figure_4_2_fun <- function() {
  ((p01 | p02) /
     (p1 | p2) /
     (p3 | p4 ) /
     waffle_legend)
}



if (build_figures) {
  ggsave(here("output", "figures", "figure_4_2.pdf"), 
         plot = figure_4_2_fun("Futura", "Futura Condensed"), 
         width = 5, height = 8, units = "in", useDingbats = FALSE)
  
  extrafont::embed_fonts(here("output", "figures", "figure_4_2.pdf"))
}

```

```{r fig-4-2, include = TRUE, fig.cap = '(ref:fig-4-2)', fig.align = "center"}

figure_4_2_fun()

```

(ref:fig-6-2) *Expected impact of redistribution regulations (only in Towns) on the STA market*

## Regulatory scenario #2: "Restrict"

The "Restrict" route would control the number of STAs in Prince Edward County by restricting the number of STA licenses being granted, but still allowing commercial operations. Restricting the number of licenses would shrink the STA market in order to shrink the negative housing impacts, concentrating STA activity in fewer and bigger operations. The "Restrict" models would use high license fees to ensure that licenses are used by hosts willing to operate at a high frequency, thereby ensuring an active STA market to address tourist demand.

Both the "Redistribute" and the "Restrict" models could be implemented on two geographic scales: either in the towns only, or both in the towns and townships, covering all Prince Edward County. The flexibility in geographic covering is meant to either focus STA regulation efforts in towns where housing types are more adequate for full time residents, or apply regulation all over to ensure that no STA activiy displacement occurs from the towns to the townships. The impact of the four policy options are the following:

### 3 - Restrict, towns + townships

```{r restrict_towns_townships , include = F}

levels_2019_tt <- 
daily %>% 
  filter(listing_type == "Entire home/apt", 
         date>= summer_start_2021-years(2), date <= summer_end_2021-years(2),
         status == "R") %>% 
  count(date, sort = T) %>% 
  slice(1) %>%
  pull(n) %>% 
  round(., digits = -1)

levels_2021_tt <- 
daily %>% 
  filter(listing_type == "Entire home/apt", 
         date>= summer_start_2021, date <= summer_end_2021,
         status == "R") %>% 
  count(date, sort = T) %>% 
  slice(1) %>%
  pull(n) %>% 
  round(., digits = -1)

```

Depending on which level of STA activity the county would like to sustain, a certain number of STA licenses could be emitted to commercial STA operations. For the enire county, `r levels_2019_tt` STA licenses would allow 2019 levels, and `r levels_2021_tt` licenses would maintain 2021, with fewer licenses leading to a shrinking of the STA market.

### 4 - Restrict, towns only

```{r restrict_towns, include = F}

levels_2019_t <- 
daily %>% 
  filter(ward %in% (EW %>% filter(type != "Township") %>% pull(ward))) %>% 
  filter(listing_type == "Entire home/apt", 
         date>= summer_start_2021-years(2), date <= summer_end_2021-years(2),
         status == "R") %>% 
  count(date, sort = T) %>% 
  slice(1) %>%
  pull(n) %>% 
  round(., digits = -1)

levels_2021_t <- 
daily %>% 
  filter(ward %in% (EW %>% filter(type != "Township") %>% pull(ward))) %>% 
  filter(listing_type == "Entire home/apt", 
         date>= summer_start_2021, date <= summer_end_2021,
         status == "R") %>% 
  count(date, sort = T) %>% 
  slice(1) %>%
  pull(n) %>% 
  round(., digits = -1)

```

If the restriction was to occur in towns only, there would need to be `r levels_2019_t` STA licenses to allow 2019 levels, and `r levels_2021_t` licenses to maintain 2021 levels.

## Less promising regulatory options

In addition to the two main "Redistribute" and "Restrict" regulatory options, we considered several others which have been proposed or implemented in other jurisdictions but which, in our opinion, are not plausible paths forward for Prince Edward County. We briefly discuss them here.

### Incentives to STA hosts?

```{r short_term_incentive}

num_bedrooms <- 
  property %>% 
  st_drop_geometry() %>% 
  mutate(bedrooms = if_else(bedrooms >= 3, 3, bedrooms)) %>% 
  select(property_ID, bedrooms)

FREH_properties <- 
  full_time_listings %>% 
  distinct(property_ID) %>% pull()

LTM_revenue <- 
  daily %>% 
  left_join(num_bedrooms) %>% 
  filter(date >= max(daily$date) - years(1), status == "R", listing_type == "Entire home/apt",
         property_ID %in% FREH_properties) %>%
  mutate(ward = if_else(!ward %in% c("Picton", "Wellington", "Bloomfield"), 
                        "Township", ward)) %>% 
  group_by(property_ID, ward, bedrooms) %>% 
  summarize(rev_LTM = sum(price)) %>% 
  ungroup()
  
avg_rent <- 
rent_sept %>% 
  group_by(ward) %>% 
  summarize(rent = mean(rent))

rev_to_weight_mean <- 
  LTM_revenue %>% 
  group_by(bedrooms) %>% 
  summarize(monthly_rev_LTM = mean(rev_LTM) / 12,
            weight = n())

rent_to_weight_mean <- 
  rent_sept %>% 
  group_by(bedrooms) %>% 
  summarize(monthly_rent = mean(rent),
            weight = n())

avg_monthly_rev_LTM <- 
weighted.mean(rev_to_weight_mean$monthly_rev_LTM,
              rent_to_weight_mean$weight) %>% 
  round(-1) %>% 
  scales::dollar()

avg_monthly_rent <- 
weighted.mean(rent_to_weight_mean$monthly_rent,
              rent_to_weight_mean$weight) %>% 
  round(-1) %>% 
  scales::dollar()

var_rev_rent <- 
{(weighted.mean(rev_to_weight_mean$monthly_rev_LTM,
              rent_to_weight_mean$weight) - 
weighted.mean(rent_to_weight_mean$monthly_rent,
              rent_to_weight_mean$weight)) /
weighted.mean(rent_to_weight_mean$monthly_rent,
              rent_to_weight_mean$weight)} %>% 
  scales::percent()


```

Another STA regulatory option that has been considered by municipalities in Canada (such as Toronto; Wachsmuth et al. 2021) and worldwide (deJong 2021) is a financial incentive given to dedicated STA operators to entice them to rent their units on the long-term rental market. Under normal market conditions, it i

This type of short-term rental management strategy was put forward since the pandemic, considering the number of tourist accommodations that had to return to long-term renting amidst the tourism collapse starting March 2020. We considered what rent supplements could mean as an option for Prince Edward County. A financial incentive could be given to STR hosts to bring STAs back onto the long-term rental market. To a first approximation, an effective financial incentive would need to roughly match the difference between monthly STA revenue and the long-term rents it would be possible to achieve. We approximate this difference by comparing the average monthly STA revenue for TKTK average and average rents using September 2021 data. The averages were based on a weighted average proportional to the number of bedrooms found in both STAs and rental unis in the county. Commercial listings earned an average of `r avg_monthly_rev_LTM` a month, while the average monthly rent was of `r avg_monthly_rent` in September. It represents a difference of `r var_rev_rent` globally, with heightened differences in select wards (Figure \@ref(fig:fig-6-1)).

```{r on_water, cache = TRUE, cache.lazy = FALSE}

qload(here("output", "geometry.qsm"), nthreads = availableCores())

ocean <-
  read_sf(here("data", "shapefiles", "lhy_000h16a_e.shp")) %>%
  st_transform(32618)

ocean <-
  ocean %>%
  st_filter(select(city, -everything()))

river <-
  read_sf(here("data", "shapefiles", "lhy_000c16a_e.shp")) %>%
  st_transform(32618)

river <-
  river %>%
  st_filter(select(city, -everything()))

water <- rbind(select(river, -everything()), select(ocean, -everything()))

rm(ocean, river, city)
```

```{r make_fig_2_3}

weight_rent_sept <- 
rent_sept %>% 
  group_by(ward, bedrooms)  %>% 
  summarize(mean_rent = mean(rent),
            weight = n())

weight_revenue_ward <- 
LTM_revenue %>% 
  group_by(ward, bedrooms) %>% 
  summarize(mean_rev = mean(rev_LTM) / 12,
            weight = n())

# Weighted average to compare with rents, weight of STRs
LTM_revenue_ward <- 
tibble(ward = c("Bloomfield", "Wellington", "Township", "Picton"), mean_rev = c(weighted.mean(weight_revenue_ward[weight_revenue_ward$ward == "Bloomfield",]$mean_rev,
weight_revenue_ward[weight_revenue_ward$ward == "Bloomfield",]$weight),

weighted.mean(weight_revenue_ward[weight_revenue_ward$ward == "Wellington",]$mean_rev,
weight_revenue_ward[weight_revenue_ward$ward == "Wellington",]$weight),

weighted.mean(weight_revenue_ward[weight_revenue_ward$ward == "Township",]$mean_rev,
weight_revenue_ward[weight_revenue_ward$ward == "Township",]$weight),

weighted.mean(weight_revenue_ward[weight_revenue_ward$ward == "Picton",]$mean_rev,
weight_revenue_ward[weight_revenue_ward$ward == "Picton",]$weight)))

# Weight average to compare with revenue, weight of STRs
set_rent_ward <- 
tibble(ward = c("Bloomfield", "Wellington", "Township", "Picton"), mean_rent = c(weighted.mean(weight_rent_sept[weight_rent_sept$ward == "Bloomfield",]$mean_rent,
weight_revenue_ward[weight_revenue_ward$ward == "Bloomfield",]$weight),

weighted.mean(weight_rent_sept[weight_rent_sept$ward == "Wellington",]$mean_rent,
weight_revenue_ward[weight_revenue_ward$ward == "Wellington",]$weight),

weighted.mean(weight_rent_sept[weight_rent_sept$ward == "Township",]$mean_rent,
weight_revenue_ward[weight_revenue_ward$ward == "Township",]$weight),

weighted.mean(weight_rent_sept[weight_rent_sept$ward == "Picton",]$mean_rent,
weight_revenue_ward[weight_revenue_ward$ward == "Picton",]$weight)))

rent_wards <- 
EW %>% 
  mutate(ward = if_else(type == "Township", "Township", ward)) %>%
  group_by(ward) %>% 
  summarize() %>% 
  left_join(set_rent_ward)

surplus_rent <- 
LTM_revenue_ward %>% 
  left_join(rent_wards) %>% 
  mutate(surplus = round(mean_rev - mean_rent, -1)) %>% 
  st_as_sf()

# street <- qread("output/street.qs")

figure_4_3_fun <- function(regular = "", condensed = "") {
  
townships <- 
surplus_rent[surplus_rent$ward == "Township",] %>% 
  ggplot() +
  geom_sf(data = province, colour = "transparent", fill = "grey93") +
  geom_sf(
    aes(fill = surplus),
    lwd = 0,
    colour = "white"
  ) +
  geom_sf(data = street, colour = "white", alpha = 0.2) +
  geom_sf(data = water, fill = "white", colour = "transparent") +
  scale_fill_stepsn(
    name = "Monthly dif. btw avg. rent\nand avg. full-time STA revenue",
    colors = col_palette[c(5, 3, 4, 6)], 
                       na.value = "grey80",
                       limits = c(min(surplus_rent$surplus), 
                                  max(surplus_rent$surplus)),
                       oob = scales::squish, 
                       labels = scales::dollar)+
  gg_bbox(surplus_rent)+
  theme_void() +
  theme(
    legend.position = "bottom",
    legend.key.width= unit(1.5, 'cm')
  )+
  geom_sf_label(aes(label = scales::dollar(round(surplus))),
                nudge_y = 5000, nudge_x = -5000)+
  ggtitle("Townships")

picton <- 
  surplus_rent[surplus_rent$ward == "Picton",] %>% 
  ggplot() +
  # geom_sf(data = province, colour = "transparent", fill = "grey93") +
  geom_sf(
    aes(fill = surplus),
    lwd = 0,
    colour = "white"
  ) +
  geom_sf(data = street, colour = "white", alpha = 0.2) +
  geom_sf(data = water, fill = "white", colour = "transparent") +
  scale_fill_stepsn(
    name = "Monthly dif. btw avg. rent\nand avg. full-time STA revenue",
    colors = col_palette[c(5, 3, 4, 6)], 
                       na.value = "grey80",
                       limits = c(min(surplus_rent$surplus), 
                                  max(surplus_rent$surplus)),
                       oob = scales::squish, 
                       labels = scales::dollar)+
  gg_bbox(surplus_rent[surplus_rent$ward == "Picton",])+
  theme_void() +
  theme(
    legend.position = "bottom",
    legend.key.width= unit(1.5, 'cm')
  )+
  geom_sf_label(aes(label = scales::dollar(round(surplus))))+
  ggtitle("Picton")

bloomfield <- 
  surplus_rent[surplus_rent$ward == "Bloomfield",] %>% 
  ggplot() +
  # geom_sf(data = province, colour = "transparent", fill = "grey93") +
  geom_sf(
    aes(fill = surplus),
    lwd = 0,
    colour = "white"
  ) +
  geom_sf(data = street, colour = "white", alpha = 0.2) +
  geom_sf(data = water, fill = "white", colour = "transparent") +
  scale_fill_stepsn(
    name = "Monthly dif. btw avg. rent\nand avg. full-time STA revenue",
    colors = col_palette[c(5, 3, 4, 6)], 
                       na.value = "grey80",
                       limits = c(min(surplus_rent$surplus), 
                                  max(surplus_rent$surplus)),
                       oob = scales::squish, 
                       labels = scales::dollar)+
  gg_bbox(surplus_rent[surplus_rent$ward == "Bloomfield",])+
  theme_void() +
  theme(
    legend.position = "bottom",
    legend.key.width= unit(1.5, 'cm')
  )+
  geom_sf_label(aes(label = scales::dollar(round(surplus))))+
  ggtitle("Bloomfield")

wellington <- 
  surplus_rent[surplus_rent$ward == "Wellington",] %>% 
  ggplot() +
  # geom_sf(data = province, colour = "transparent", fill = "grey93") +
  geom_sf(
    aes(fill = surplus),
    lwd = 0,
    colour = "white"
  ) +
  geom_sf(data = street, colour = "white", alpha = 0.2) +
  geom_sf(data = water, fill = "white", colour = "transparent") +
  scale_fill_stepsn(
    name = "Monthly dif. btw avg. rent\nand avg. full-time STA revenue",
    colors = col_palette[c(5, 3, 4, 6)], 
                       na.value = "grey80",
                       limits = c(min(surplus_rent$surplus), 
                                  max(surplus_rent$surplus)),
                       oob = scales::squish, 
                       labels = scales::dollar)+
  gg_bbox(surplus_rent[surplus_rent$ward == "Wellington",])+
  theme_void() +
  theme(
    legend.position = "bottom",
    legend.key.width= unit(1.5, 'cm')
  )+
  geom_sf_label(aes(label = scales::dollar(round(surplus))))+
  ggtitle("Wellington")

combined <- 
(townships + picton) / (bloomfield + wellington) & 
  theme(legend.position = "bottom")

combined + plot_layout(guides = "collect")

}

if (build_figures) {
  ggsave(here("output", "figures", "figure_2_3.pdf"), 
         plot = figure_2_3_fun(), 
         width = 8, height = 5, units = "in", useDingbats = FALSE)
  
  extrafont::embed_fonts(here("output", "figures", "figure_2_3.pdf"))
}

```

```{r fig-4-3, include = TRUE, fig.cap = '(ref:fig-4-3)', fig.align = "center"}

figure_4_3_fun()

```
(ref:fig-4-3) *Average monthly subsidy required for transitioning a STA onto the long-term rental market*

```{r short_term_incentive_2}

subisdy_outside_wellington <- 
surplus_rent %>% 
  st_drop_geometry() %>% 
  filter(ward != "Wellington") %>% 
  summarize(mean(surplus)) %>% 
  pull() %>% 
  round(-1) %>% 
  scales::dollar()

subisdy_wellington <- 
surplus_rent %>% 
  st_drop_geometry() %>% 
  filter(ward == "Wellington") %>% 
  summarize(mean(surplus)) %>% 
  pull() %>% 
  round(-1) %>% 
  scales::dollar()

```

While average rents are similar across the county, monthly STA revenue differs from a location to another. The only ward with substantially higher rents than average is Wellington. Figure \@ref(fig:fig-6-1) shows the average amount of monthly subsidy that would be necessary to turn a STA back onto the LTR market. On average, this short-term incentive program would cost the county `r subisdy_wellington` per unit in Wellington, and `r subisdy_outside_wellington` in the rest of the county. Such a subsidy would entail a great financial commitment for the county, and most likely not the most cost effective option to regulating the STA market. The main reason as to why the rent supplement option would not be viable in Prince Edward County is because the revenues earned by STA listing are much higher than average rents, creating large gaps to cover. In sum, a rent supplement option would not be sustainable nor preferable in the county.

### Restrictions on annual reservations

Many municipalities have set annual limits on per-property STA reservations as a way to limit STA activities to more casual, home sharing operations. In theory this is a reasonable idea, but in practice the enforcement burden makes reservation limits nearly impossible to implement well. To prove that a given STA has exceeded an annual reservation limit of, e.g., 60 nights, it would be necessary for enforcement officers to make 61 visits. Moreover, in a strongly seasonal destination such as Prince Edward County, it could still be economically viable to operate an STA for only a relatively small portion of the year and hold the property otherwise vacant. So even if it were possible to enforce a limit on reservations, this would be unlikely to achieve the goal of shifting STA activity to home sharing.


## Conclusions

In all, STA regulation enables the monitoring and control of STA activity in the county. However, as seen in this report, the secondary home market also plays a big role in the current housing situation in Prince Edward County. The volume and sale prices of homes in the past two years combined with the declining percentage of sales associated to new STA listings show that the pressure on the market can increasingly be attributed to second homes. Since the simplest substitute for a commercial STA is a second home, both the Redistribute and the Restrict regulatory options will likely increase second home supply. STA regulations is thus only one piece of the puzzle when it comes to housing availability and affordability in the county. In terms of managing secondary homes, there is unfortunately no magic bullet besides building more housing in typologies which are well-suited to local residents but less well-suited to second homes.

\newpage
